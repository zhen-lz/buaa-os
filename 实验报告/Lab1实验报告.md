# Lab1实验报告

## 思考题

### Thinking 1.1 请查阅并给出前述 objdump 中使用的参数的含义。使用其它体系结 构的编译器（如课程平台的 MIPS 交叉编译器）重复上述各步编译过程，观察并在 实验报告中提交相应的结果。

### Thinking 1.2 也许你会发现我们的 readelf 程序是不能解析之前生成的内核文件 (内 核文件是可执行文件) 的，而我们刚才介绍的工具 readelf 则可以解析，这是为什么 呢？(提示：尝试使用 readelf -h，观察不同)

### Thinking 1.3 在理论课上我们了解到，MIPS 体系结构上电时，启动入口地址为 0xBFC00000（其实启动入口地址是根据具体型号而定的，由硬件逻辑确定，也有可 能不是这个地址，但一定是一个确定的地址），但实验操作系统的内核入口并没有 放在上电启动地址，而是按照内存布局图放置。思考为什么这样放置内核还能保证 内核入口被正确跳转到？

### Thinking 1.4 sg_size 和 bin_size 的区别它的开始加载位置并非页对齐，同时 bin_size 的结束位置（va+i）也并非页对齐，最终整个段加载完毕的 sg_size 末尾的位置也 并非页对齐，请思考，为了保证页面不冲突（不重复为同一地址申请多个页，以及 页上数据尽可能减少冲突），这样一个程序段应该怎样加载内存空间中。 彻底并透彻地理解上图能帮助大家在后续实验中节约很多时间。

### Thinking 1.5 内核入口在什么地方？main 函数在什么地方？我们是怎么让内核进 入到想要的 main 函数的呢？又是怎么进行跨文件调用函数的呢？

### Thinking 1.6 查阅《See MIPS Run Linux》一书相关章节，解释 boot/start.S 中下 面几行对 CP0 协处理器寄存器进行读写的意义。具体而言，它们分别读/写了哪些 寄存器的哪些特定位，从而达到什么目的？

```
1 /* Disable interrupts */
2 mtc0 zero, CP0_STATUS
3
4 ......
5
6 /* disable kernel mode cache */
7 mfc0 t0, CP0_CONFIG
8 and t0, ~0x7
9 ori t0, 0x2
10 mtc0 t0, CP0_CONFIG 
```

## 实验难点图示

## 体会与感想